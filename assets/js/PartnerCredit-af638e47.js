import{_ as ve,fE as U,r as v,a,o as k,c as L,e as s,b as e,w as t,p as V,u as z,fF as A,f as r,s as ge,F as B,d as R,t as p,i as N,g as be}from"./index-58786321.js";const ye={class:"app-container"},Ve={class:"header-section"},Ce={class:"credit-card-content"},ke={class:"credit-level"},we={class:"credit-count"},xe={class:"credit-range"},Se={class:"score-dimensions"},je={class:"dimension-item"},Fe={class:"dimension-label"},he={class:"dimension-score"},Pe={class:"pagination-container"},Ue={class:"dialog-footer"},Le={class:"dialog-footer"},ze={__name:"PartnerCredit",setup(De){const M=[{level:"优秀",count:28,range:"90-100",class:"excellent"},{level:"良好",count:45,range:"75-89",class:"good"},{level:"一般",count:32,range:"60-74",class:"normal"},{level:"较差",count:12,range:"0-59",class:"poor"}],m=U({name:"",level:""}),O=v([{id:1,name:"示例合作商",creditScore:88,creditLevel:"良好",dimensions:{performance:85,orderProcess:90,inventory:86,promotion:88,compliance:92},updateTime:"2024-03-15 14:30:00"}]),w=v(1),x=v(10),I=v(100),b=v(!1),S=v(null),u=U({currentScore:0,adjustScore:0,reason:""}),y=v(!1),c=U({creditLimit:5e4,supplyPriority:2,benefits:["discount","technical"],monitorFrequency:"monthly"}),G={adjustScore:[{required:!0,message:"请输入调整分数",trigger:"blur"}],reason:[{required:!0,message:"请输入调整原因",trigger:"blur"}]},D={performance:"业绩表现",orderProcess:"订单处理",inventory:"库存管理",promotion:"推广效果",compliance:"规则遵守"},H=n=>n>=90?"score-excellent":n>=75?"score-good":n>=60?"score-normal":"score-poor",J=n=>({优秀:"success",良好:"primary",一般:"warning",较差:"danger"})[n],K=n=>D[n],Q=(n,l)=>`${D[n]}: ${l}分`,W=n=>n>=90?"#67C23A":n>=75?"#409EFF":n>=60?"#E6A23C":"#F56C6C",X=()=>{V.success("信用评分更新成功")},Y=()=>{V.success("执行搜索")},Z=()=>{Object.keys(m).forEach(n=>{m[n]=""})},ee=n=>{V.info("查看详情")},le=n=>{b.value=!0,u.currentScore=n.creditScore,u.adjustScore=0,u.reason=""},te=n=>{y.value=!0},oe=async()=>{S.value&&await S.value.validate(n=>{n&&(V.success("调整成功"),b.value=!1)})},ne=()=>{V.success("策略保存成功"),y.value=!1},ae=n=>{x.value=n},se=n=>{w.value=n};return(n,l)=>{const j=a("el-icon"),d=a("el-button"),$=a("el-input"),i=a("el-form-item"),_=a("el-option"),q=a("el-select"),F=a("el-form"),h=a("el-card"),re=a("el-col"),de=a("el-row"),g=a("el-table-column"),ie=a("el-tag"),ue=a("el-progress"),ce=a("el-tooltip"),pe=a("el-table"),me=a("el-pagination"),E=a("el-input-number"),T=a("el-dialog"),_e=a("el-rate"),C=a("el-checkbox"),fe=a("el-checkbox-group");return k(),L("div",ye,[s("div",Ve,[l[15]||(l[15]=s("h2",null,"合作商信用管理",-1)),e(d,{type:"primary",onClick:X},{default:t(()=>[e(j,null,{default:t(()=>[e(z(A))]),_:1}),l[14]||(l[14]=r("更新评分 "))]),_:1})]),e(h,{class:"search-card"},{default:t(()=>[e(F,{model:m,inline:"",class:"search-form"},{default:t(()=>[e(i,{label:"合作商名称"},{default:t(()=>[e($,{modelValue:m.name,"onUpdate:modelValue":l[0]||(l[0]=o=>m.name=o),placeholder:"请输入合作商名称",clearable:"",class:"search-input"},null,8,["modelValue"])]),_:1}),e(i,{label:"信用等级"},{default:t(()=>[e(q,{modelValue:m.level,"onUpdate:modelValue":l[1]||(l[1]=o=>m.level=o),placeholder:"请选择信用等级",clearable:"",class:"search-select"},{default:t(()=>[e(_,{label:"优秀",value:"excellent"}),e(_,{label:"良好",value:"good"}),e(_,{label:"一般",value:"normal"}),e(_,{label:"较差",value:"poor"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(d,{type:"primary",onClick:Y,class:"search-btn"},{default:t(()=>[e(j,null,{default:t(()=>[e(z(ge))]),_:1}),l[16]||(l[16]=r("查询 "))]),_:1}),e(d,{onClick:Z,class:"search-btn"},{default:t(()=>[e(j,null,{default:t(()=>[e(z(A))]),_:1}),l[17]||(l[17]=r("重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(de,{gutter:20,class:"credit-overview"},{default:t(()=>[(k(),L(B,null,R(M,o=>e(re,{span:6,key:o.level},{default:t(()=>[e(h,{class:N(["credit-card",o.class]),shadow:"hover"},{default:t(()=>[s("div",Ce,[s("div",ke,p(o.level),1),s("div",we,p(o.count)+"家",1),s("div",xe,"信用分："+p(o.range),1)])]),_:2},1032,["class"])]),_:2},1024)),64))]),_:1}),e(h,{class:"table-card"},{default:t(()=>[e(pe,{data:O.value,border:"",style:{width:"100%"}},{default:t(()=>[e(g,{prop:"name",label:"合作商名称","min-width":"120"}),e(g,{prop:"creditScore",label:"信用评分",width:"100"},{default:t(({row:o})=>[s("span",{class:N(H(o.creditScore))},p(o.creditScore),3)]),_:1}),e(g,{prop:"creditLevel",label:"信用等级",width:"100"},{default:t(({row:o})=>[e(ie,{type:J(o.creditLevel)},{default:t(()=>[r(p(o.creditLevel),1)]),_:2},1032,["type"])]),_:1}),e(g,{label:"评分维度","min-width":"400"},{default:t(({row:o})=>[s("div",Se,[(k(!0),L(B,null,R(o.dimensions,(f,P)=>(k(),be(ce,{key:P,content:Q(P,f),placement:"top"},{default:t(()=>[s("div",je,[s("span",Fe,p(K(P)),1),e(ue,{percentage:f,color:W(f),"stroke-width":8,"show-text":!1},null,8,["percentage","color"]),s("span",he,p(f)+"分",1)])]),_:2},1032,["content"]))),128))])]),_:1}),e(g,{prop:"updateTime",label:"更新时间",width:"160"}),e(g,{label:"操作",width:"200",fixed:"right"},{default:t(({row:o})=>[e(d,{link:"",type:"primary",onClick:f=>ee(o)},{default:t(()=>l[18]||(l[18]=[r("详情")])),_:2},1032,["onClick"]),e(d,{link:"",type:"primary",onClick:f=>le(o)},{default:t(()=>l[19]||(l[19]=[r("调整")])),_:2},1032,["onClick"]),e(d,{link:"",type:"warning",onClick:f=>te(o)},{default:t(()=>l[20]||(l[20]=[r("策略")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),s("div",Pe,[e(me,{"current-page":w.value,"onUpdate:currentPage":l[2]||(l[2]=o=>w.value=o),"page-size":x.value,"onUpdate:pageSize":l[3]||(l[3]=o=>x.value=o),total:I.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ae,onCurrentChange:se},null,8,["current-page","page-size","total"])])]),_:1}),e(T,{title:"调整信用分",modelValue:b.value,"onUpdate:modelValue":l[7]||(l[7]=o=>b.value=o),width:"500px"},{footer:t(()=>[s("span",Ue,[e(d,{onClick:l[6]||(l[6]=o=>b.value=!1)},{default:t(()=>l[21]||(l[21]=[r("取消")])),_:1}),e(d,{type:"primary",onClick:oe},{default:t(()=>l[22]||(l[22]=[r("确定")])),_:1})])]),default:t(()=>[e(F,{ref_key:"adjustFormRef",ref:S,model:u,rules:G,"label-width":"100px"},{default:t(()=>[e(i,{label:"当前分数"},{default:t(()=>[s("span",null,p(u.currentScore),1)]),_:1}),e(i,{label:"调整分数",prop:"adjustScore"},{default:t(()=>[e(E,{modelValue:u.adjustScore,"onUpdate:modelValue":l[4]||(l[4]=o=>u.adjustScore=o),min:-10,max:10,step:.5},null,8,["modelValue"])]),_:1}),e(i,{label:"调整原因",prop:"reason"},{default:t(()=>[e($,{type:"textarea",modelValue:u.reason,"onUpdate:modelValue":l[5]||(l[5]=o=>u.reason=o),rows:"3",placeholder:"请输入调整原因"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(T,{title:"信用管理策略",modelValue:y.value,"onUpdate:modelValue":l[13]||(l[13]=o=>y.value=o),width:"600px"},{footer:t(()=>[s("span",Le,[e(d,{onClick:l[12]||(l[12]=o=>y.value=!1)},{default:t(()=>l[27]||(l[27]=[r("取消")])),_:1}),e(d,{type:"primary",onClick:ne},{default:t(()=>l[28]||(l[28]=[r("保存")])),_:1})])]),default:t(()=>[e(F,{"label-width":"120px"},{default:t(()=>[e(i,{label:"信用额度"},{default:t(()=>[e(E,{modelValue:c.creditLimit,"onUpdate:modelValue":l[8]||(l[8]=o=>c.creditLimit=o),min:0,step:1e3,precision:0},null,8,["modelValue"])]),_:1}),e(i,{label:"供货优先级"},{default:t(()=>[e(_e,{modelValue:c.supplyPriority,"onUpdate:modelValue":l[9]||(l[9]=o=>c.supplyPriority=o),max:3,texts:["低","中","高"],"show-text":""},null,8,["modelValue"])]),_:1}),e(i,{label:"优惠政策"},{default:t(()=>[e(fe,{modelValue:c.benefits,"onUpdate:modelValue":l[10]||(l[10]=o=>c.benefits=o)},{default:t(()=>[e(C,{label:"discount"},{default:t(()=>l[23]||(l[23]=[r("价格优惠")])),_:1}),e(C,{label:"delivery"},{default:t(()=>l[24]||(l[24]=[r("免费配送")])),_:1}),e(C,{label:"return"},{default:t(()=>l[25]||(l[25]=[r("无理由退换")])),_:1}),e(C,{label:"technical"},{default:t(()=>l[26]||(l[26]=[r("技术支持")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"监管频率"},{default:t(()=>[e(q,{modelValue:c.monitorFrequency,"onUpdate:modelValue":l[11]||(l[11]=o=>c.monitorFrequency=o)},{default:t(()=>[e(_,{label:"每周",value:"weekly"}),e(_,{label:"每月",value:"monthly"}),e(_,{label:"每季",value:"quarterly"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},qe=ve(ze,[["__scopeId","data-v-61480dc9"]]);export{qe as default};

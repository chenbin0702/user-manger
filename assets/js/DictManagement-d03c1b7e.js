import{_ as Q,r as i,a as o,o as W,c as X,b as e,w as a,e as y,u as w,C as $,f as r,s as Y,fS as E,p as V,q as M}from"./index-58786321.js";const Z={class:"dict-management"},h={class:"type-header"},ee={class:"data-header"},le={__name:"DictManagement",setup(ae){const S=i([{id:1,name:"用户状态",code:"user_status",status:1,remark:"用户状态字典"},{id:2,name:"性别",code:"gender",status:1,remark:"性别字典"}]),q=i([{id:1,typeId:1,label:"正常",value:"1",sort:1,status:1},{id:2,typeId:1,label:"禁用",value:"0",sort:2,status:1}]),x=i(""),g=i(null),f=i(!1),_=i(!1),m=i(!1),u=i({name:"",code:"",status:1,remark:""}),n=i({label:"",value:"",sort:0,status:1}),R={name:[{required:!0,message:"请输入类型名称",trigger:"blur"}],code:[{required:!0,message:"请输入类型编码",trigger:"blur"}]},F={label:[{required:!0,message:"请输入数据标签",trigger:"blur"}],value:[{required:!0,message:"请输入数据值",trigger:"blur"}]},I=s=>{g.value=s},N=()=>{m.value=!1,u.value={name:"",code:"",status:1,remark:""},f.value=!0},z=s=>{m.value=!0,u.value={...s},f.value=!0},A=s=>{M.confirm(`确认要删除字典类型"${s.name}"吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{V.success("删除成功")})},L=()=>{if(!g.value){V.warning("请先选择字典类型");return}m.value=!1,n.value={label:"",value:"",sort:0,status:1},_.value=!0},K=s=>{m.value=!0,n.value={...s},_.value=!0},j=s=>{M.confirm("确认要删除该字典数据吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{V.success("删除成功")})},G=s=>{V.success("状态更新成功")},H=()=>{V.success(m.value?"更新成功":"添加成功"),f.value=!1},J=()=>{V.success(m.value?"更新成功":"添加成功"),_.value=!1};return(s,l)=>{const k=o("el-icon"),d=o("el-button"),b=o("el-input"),p=o("el-table-column"),U=o("el-table"),D=o("el-col"),C=o("el-switch"),O=o("el-row"),v=o("el-form-item"),T=o("el-form"),B=o("el-dialog"),P=o("el-input-number");return W(),X("div",Z,[e(O,{gutter:20},{default:a(()=>[e(D,{span:8},{default:a(()=>[y("div",h,[l[14]||(l[14]=y("h3",null,"字典类型",-1)),e(d,{type:"primary",size:"small",onClick:N},{default:a(()=>[e(k,null,{default:a(()=>[e(w($))]),_:1}),l[13]||(l[13]=r("新增类型 "))]),_:1})]),e(b,{modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=t=>x.value=t),placeholder:"搜索字典类型",clearable:"",class:"search-input"},{prefix:a(()=>[e(k,null,{default:a(()=>[e(w(Y))]),_:1})]),_:1},8,["modelValue"]),e(U,{data:S.value,style:{width:"100%"},onRowClick:I,"highlight-current-row":""},{default:a(()=>[e(p,{prop:"name",label:"类型名称"}),e(p,{prop:"code",label:"类型编码"}),e(p,{label:"操作",width:"150"},{default:a(({row:t})=>[e(d,{link:"",type:"primary",onClick:E(c=>z(t),["stop"])},{default:a(()=>l[15]||(l[15]=[r("编辑")])),_:2},1032,["onClick"]),e(d,{link:"",type:"danger",onClick:E(c=>A(t),["stop"])},{default:a(()=>l[16]||(l[16]=[r("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e(D,{span:16},{default:a(()=>[y("div",ee,[l[18]||(l[18]=y("h3",null,"字典数据",-1)),e(d,{type:"primary",size:"small",onClick:L,disabled:!g.value},{default:a(()=>[e(k,null,{default:a(()=>[e(w($))]),_:1}),l[17]||(l[17]=r("新增数据 "))]),_:1},8,["disabled"])]),e(U,{data:q.value,style:{width:"100%"}},{default:a(()=>[e(p,{prop:"label",label:"数据标签"}),e(p,{prop:"value",label:"数据值"}),e(p,{prop:"sort",label:"排序",width:"80"}),e(p,{prop:"status",label:"状态",width:"100"},{default:a(({row:t})=>[e(C,{modelValue:t.status,"onUpdate:modelValue":c=>t.status=c,"active-value":1,"inactive-value":0,onChange:c=>G(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(p,{label:"操作",width:"150"},{default:a(({row:t})=>[e(d,{link:"",type:"primary",onClick:c=>K(t)},{default:a(()=>l[19]||(l[19]=[r("编辑")])),_:2},1032,["onClick"]),e(d,{link:"",type:"danger",onClick:c=>j(t)},{default:a(()=>l[20]||(l[20]=[r("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),e(B,{modelValue:f.value,"onUpdate:modelValue":l[6]||(l[6]=t=>f.value=t),title:m.value?"编辑字典类型":"新增字典类型",width:"500px"},{footer:a(()=>[e(d,{onClick:l[5]||(l[5]=t=>f.value=!1)},{default:a(()=>l[21]||(l[21]=[r("取消")])),_:1}),e(d,{type:"primary",onClick:H},{default:a(()=>l[22]||(l[22]=[r("确定")])),_:1})]),default:a(()=>[e(T,{ref:"typeFormRef",model:u.value,rules:R,"label-width":"100px"},{default:a(()=>[e(v,{label:"类型名称",prop:"name"},{default:a(()=>[e(b,{modelValue:u.value.name,"onUpdate:modelValue":l[1]||(l[1]=t=>u.value.name=t),placeholder:"请输入类型名称"},null,8,["modelValue"])]),_:1}),e(v,{label:"类型编码",prop:"code"},{default:a(()=>[e(b,{modelValue:u.value.code,"onUpdate:modelValue":l[2]||(l[2]=t=>u.value.code=t),placeholder:"请输入类型编码"},null,8,["modelValue"])]),_:1}),e(v,{label:"状态"},{default:a(()=>[e(C,{modelValue:u.value.status,"onUpdate:modelValue":l[3]||(l[3]=t=>u.value.status=t),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),e(v,{label:"备注"},{default:a(()=>[e(b,{modelValue:u.value.remark,"onUpdate:modelValue":l[4]||(l[4]=t=>u.value.remark=t),type:"textarea",placeholder:"请输入备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(B,{modelValue:_.value,"onUpdate:modelValue":l[12]||(l[12]=t=>_.value=t),title:m.value?"编辑字典数据":"新增字典数据",width:"500px"},{footer:a(()=>[e(d,{onClick:l[11]||(l[11]=t=>_.value=!1)},{default:a(()=>l[23]||(l[23]=[r("取消")])),_:1}),e(d,{type:"primary",onClick:J},{default:a(()=>l[24]||(l[24]=[r("确定")])),_:1})]),default:a(()=>[e(T,{ref:"dataFormRef",model:n.value,rules:F,"label-width":"100px"},{default:a(()=>[e(v,{label:"数据标签",prop:"label"},{default:a(()=>[e(b,{modelValue:n.value.label,"onUpdate:modelValue":l[7]||(l[7]=t=>n.value.label=t),placeholder:"请输入数据标签"},null,8,["modelValue"])]),_:1}),e(v,{label:"数据值",prop:"value"},{default:a(()=>[e(b,{modelValue:n.value.value,"onUpdate:modelValue":l[8]||(l[8]=t=>n.value.value=t),placeholder:"请输入数据值"},null,8,["modelValue"])]),_:1}),e(v,{label:"排序",prop:"sort"},{default:a(()=>[e(P,{modelValue:n.value.sort,"onUpdate:modelValue":l[9]||(l[9]=t=>n.value.sort=t),min:0,max:999},null,8,["modelValue"])]),_:1}),e(v,{label:"状态"},{default:a(()=>[e(C,{modelValue:n.value.status,"onUpdate:modelValue":l[10]||(l[10]=t=>n.value.status=t),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},oe=Q(le,[["__scopeId","data-v-5a5434a4"]]);export{oe as default};

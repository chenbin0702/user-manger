import{_ as L,r as d,v as R,a as n,x as $,o as D,c as j,e as s,b as e,w as a,y as G,g as H,p as K,f as v,t as i}from"./index-58786321.js";const O={class:"inventory-management"},W={class:"card-content"},X={class:"card-content warning"},Y={class:"card-content"},Z={class:"card-content"},ee={__name:"InventoryManagement",setup(ae){const u=d({name:"",model:"",location:"",status:""}),p=d({total:0,warning:0,inbound:0,outbound:0}),C=d([]),y=d(!1),f=d(1),w=d(10),k=d(0);d(!1),d(!1),d(null),d({name:"",model:"",quantity:0,minQuantity:0,location:"",remarks:""});const h=d(!1),x=d([]),q=r=>({正常:"success",低库存:"warning",缺货:"danger"})[r]||"info",g=async()=>{y.value=!0;try{await new Promise(r=>setTimeout(r,500)),C.value=[{id:1,name:"DJI Mavic 3",model:"M3P",quantity:10,minQuantity:5,location:"仓库A",status:"正常",lastUpdate:"2024-01-20 10:00:00"}],p.value={total:100,warning:5,inbound:20,outbound:15},k.value=100}catch{K.error("加载数据失败")}finally{y.value=!1}},z=()=>{f.value=1,g()},I=()=>{u.value={name:"",model:"",location:"",status:""},z()},P=async r=>{x.value=[{type:"入库",quantity:5,operator:"张三",time:"2024-01-20 10:00:00",remarks:"新购入设备"}],h.value=!0},A=r=>{w.value=r,g()},N=r=>{f.value=r,g()};return R(()=>{g()}),(r,l)=>{const U=n("el-input"),c=n("el-form-item"),m=n("el-option"),S=n("el-select"),V=n("el-button"),Q=n("el-form"),_=n("el-card"),b=n("el-col"),T=n("el-row"),o=n("el-table-column"),M=n("el-tag"),B=n("el-table"),E=n("el-pagination"),F=n("el-dialog"),J=$("loading");return D(),j("div",O,[l[14]||(l[14]=s("div",{class:"header"},[s("h2",null,"设备库存管理")],-1)),e(_,{class:"search-card"},{default:a(()=>[e(Q,{inline:!0,model:u.value,class:"search-form"},{default:a(()=>[e(c,{label:"设备名称"},{default:a(()=>[e(U,{modelValue:u.value.name,"onUpdate:modelValue":l[0]||(l[0]=t=>u.value.name=t),placeholder:"请输入设备名称",clearable:""},null,8,["modelValue"])]),_:1}),e(c,{label:"设备型号"},{default:a(()=>[e(U,{modelValue:u.value.model,"onUpdate:modelValue":l[1]||(l[1]=t=>u.value.model=t),placeholder:"请输入设备型号",clearable:""},null,8,["modelValue"])]),_:1}),e(c,{label:"存放位置"},{default:a(()=>[e(S,{modelValue:u.value.location,"onUpdate:modelValue":l[2]||(l[2]=t=>u.value.location=t),placeholder:"请选择",clearable:""},{default:a(()=>[e(m,{label:"仓库A",value:"仓库A"}),e(m,{label:"仓库B",value:"仓库B"})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"库存状态"},{default:a(()=>[e(S,{modelValue:u.value.status,"onUpdate:modelValue":l[3]||(l[3]=t=>u.value.status=t),placeholder:"请选择",clearable:""},{default:a(()=>[e(m,{label:"正常",value:"正常"}),e(m,{label:"低库存",value:"低库存"}),e(m,{label:"缺货",value:"缺货"})]),_:1},8,["modelValue"])]),_:1}),e(c,null,{default:a(()=>[e(V,{type:"primary",onClick:z},{default:a(()=>l[7]||(l[7]=[v("搜索")])),_:1}),e(V,{onClick:I},{default:a(()=>l[8]||(l[8]=[v("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(T,{gutter:20,class:"statistics-cards"},{default:a(()=>[e(b,{span:6},{default:a(()=>[e(_,{shadow:"hover"},{header:a(()=>l[9]||(l[9]=[s("div",{class:"card-header"},[s("span",null,"总库存数量")],-1)])),default:a(()=>[s("div",W,i(p.value.total),1)]),_:1})]),_:1}),e(b,{span:6},{default:a(()=>[e(_,{shadow:"hover"},{header:a(()=>l[10]||(l[10]=[s("div",{class:"card-header"},[s("span",null,"低库存预警")],-1)])),default:a(()=>[s("div",X,i(p.value.warning),1)]),_:1})]),_:1}),e(b,{span:6},{default:a(()=>[e(_,{shadow:"hover"},{header:a(()=>l[11]||(l[11]=[s("div",{class:"card-header"},[s("span",null,"本月入库")],-1)])),default:a(()=>[s("div",Y,i(p.value.inbound),1)]),_:1})]),_:1}),e(b,{span:6},{default:a(()=>[e(_,{shadow:"hover"},{header:a(()=>l[12]||(l[12]=[s("div",{class:"card-header"},[s("span",null,"本月出库")],-1)])),default:a(()=>[s("div",Z,i(p.value.outbound),1)]),_:1})]),_:1})]),_:1}),G((D(),H(B,{data:C.value,style:{width:"100%"}},{default:a(()=>[e(o,{prop:"name",label:"设备名称",width:"150"}),e(o,{prop:"category",label:"设备分类",width:"120"}),e(o,{prop:"model",label:"型号",width:"120"}),e(o,{prop:"quantity",label:"库存数量",width:"100"}),e(o,{prop:"minQuantity",label:"最低库存",width:"100"}),e(o,{prop:"location",label:"存放位置",width:"120"}),e(o,{prop:"status",label:"状态",width:"100"},{default:a(({row:t})=>[e(M,{type:q(t.status)},{default:a(()=>[v(i(t.status),1)]),_:2},1032,["type"])]),_:1}),e(o,{prop:"lastUpdate",label:"最后更新",width:"180"}),e(o,{label:"操作",fixed:"right",width:"250"},{default:a(({row:t})=>[e(V,{size:"small",type:"success",onClick:le=>P(t)},{default:a(()=>l[13]||(l[13]=[v(" 变动记录 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[J,y.value]]),e(E,{"current-page":f.value,"onUpdate:currentPage":l[4]||(l[4]=t=>f.value=t),"page-size":w.value,"onUpdate:pageSize":l[5]||(l[5]=t=>w.value=t),total:k.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",class:"pagination",onSizeChange:A,onCurrentChange:N},null,8,["current-page","page-size","total"]),e(F,{modelValue:h.value,"onUpdate:modelValue":l[6]||(l[6]=t=>h.value=t),title:"库存变动记录",width:"800px"},{default:a(()=>[e(B,{data:x.value,style:{width:"100%"}},{default:a(()=>[e(o,{prop:"type",label:"变动类型",width:"100"},{default:a(({row:t})=>[e(M,{type:t.type==="入库"?"success":"warning"},{default:a(()=>[v(i(t.type),1)]),_:2},1032,["type"])]),_:1}),e(o,{prop:"quantity",label:"变动数量",width:"100"}),e(o,{prop:"operator",label:"操作人",width:"120"}),e(o,{prop:"time",label:"操作时间",width:"180"}),e(o,{prop:"remarks",label:"备注"})]),_:1},8,["data"])]),_:1},8,["modelValue"])])}}},oe=L(ee,[["__scopeId","data-v-1dcda19d"]]);export{oe as default};

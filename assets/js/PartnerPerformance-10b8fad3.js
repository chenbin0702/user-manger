import"./index-17409aec.js";import{_ as re,fE as de,r as T,v as ie,fG as I,a as r,o as u,c as f,e as s,b as e,w as a,O as L,p as P,u as c,G as ce,fH as ue,f as n,M as pe,fF as U,F as V,d as z,s as _e,fI as fe,fJ as me,fK as ge,B as ve,t as d,g as y,i as S,h as he,z as ye,j as be,k as we,fL as ke}from"./index-58786321.js";const Ce={class:"app-container"},Te={class:"header-section"},Ve={class:"header-title"},ze={class:"header-btns"},Se={class:"overview-content"},xe={class:"overview-header"},De={class:"overview-title"},Ee={key:0,class:"overview-badge"},Fe={class:"overview-value"},Pe={class:"overview-chart"},Re={class:"chart-label"},Oe={class:"trend-value"},Ae={class:"card-header"},Be={class:"card-title"},Ie={class:"chart-container"},Le={class:"card-header"},Ue={class:"card-title"},Me={class:"order-stats"},Ne={class:"pie-chart"},Ge={class:"stats-list"},je={class:"stat-info"},qe={class:"stat-label"},He={class:"stat-progress"},Je={class:"card-header"},Ke={class:"card-title"},We={class:"rank-list"},Xe={class:"rank-index"},$e={key:1},Qe={class:"rank-info"},Ye={class:"partner-name"},Ze={class:"partner-stats"},et={class:"rank-progress"},tt={class:"card-header"},at={class:"card-title"},lt={class:"pagination-container"},st={__name:"PartnerPerformance",setup(ot){const M=[{title:"本月销售额",value:"¥128,560",trend:12.5,icon:"Money",type:"primary",badge:{type:"success",text:"达标"},chart:{label:"目标完成率",percentage:85,color:"#409EFF"}},{title:"订单总量",value:"1,286",trend:8.3,icon:"Tickets",type:"success",badge:{type:"primary",text:"良好"},chart:{label:"转化率",percentage:65,color:"#67C23A"}},{title:"客单价",value:"¥99.9",trend:-5.2,icon:"PriceTag",type:"warning",badge:{type:"warning",text:"需提升"},chart:{label:"环比变化",percentage:45,color:"#E6A23C"}},{title:"退单率",value:"2.5%",trend:-15.6,icon:"Warning",type:"info",badge:{type:"success",text:"良好"},chart:{label:"控制目标",percentage:25,color:"#909399"}}],p=de({partnerId:"",dateRange:[],orderType:""}),N=[{text:"最近一周",value:()=>{const o=new Date,t=new Date;return t.setTime(t.getTime()-3600*1e3*24*7),[t,o]}},{text:"最近一月",value:()=>{const o=new Date,t=new Date;return t.setTime(t.getTime()-3600*1e3*24*30),[t,o]}},{text:"最近三月",value:()=>{const o=new Date,t=new Date;return t.setTime(t.getTime()-3600*1e3*24*90),[t,o]}}],x=T(null),D=T(null),R=T("amount"),O=T("month"),G=()=>{const o=L(x.value),t={tooltip:{trigger:"axis"},legend:{data:["销售额","订单量"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"销售额",type:"line",smooth:!0,data:[12e3,13200,10100,13400,19e3,23400,14500]},{name:"订单量",type:"line",smooth:!0,data:[120,132,101,134,190,230,145]}]};o.setOption(t)},j=()=>{const o=L(D.value),t={tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"订单类型",type:"pie",radius:"50%",data:[{value:735,name:"商品购买"},{value:580,name:"设备租赁"},{value:484,name:"服务订单"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};o.setOption(t)},q=[{type:"purchase",label:"商品购买",value:"735",percentage:75,color:"#409EFF"},{type:"rental",label:"设备租赁",value:"580",percentage:58,color:"#67C23A"},{type:"service",label:"服务订单",value:"484",percentage:48,color:"#E6A23C"}],H=[{id:1,name:"北京合作商A",amount:"256,890",orders:1245,completion:95},{id:2,name:"上海合作商B",amount:"198,560",orders:986,completion:88},{id:3,name:"广州合作商C",amount:"156,730",orders:876,completion:82},{id:4,name:"深圳合作商D",amount:"143,450",orders:765,completion:76},{id:5,name:"杭州合作商E",amount:"132,680",orders:654,completion:70}],J=o=>["#f7b500","#8544ea","#0089ff","#409EFF"][o]||"#409EFF",K=o=>({purchase:"primary",rental:"success",service:"warning"})[o]||"info",W=o=>({pending:"info",processing:"primary",completed:"success",cancelled:"danger"})[o]||"info",X=o=>o>0?"up":o<0?"down":"stable";ie(()=>{G(),j(),window.addEventListener("resize",()=>{const o=I(x.value),t=I(D.value);o==null||o.resize(),t==null||t.resize()})});const $=()=>{console.log("搜索条件：",p)},Q=()=>{p.partnerId="",p.dateRange=[],p.orderType=""},Y=()=>{P.success("正在生成分析报告...")},Z=()=>{P.success("正在导出数据...")},ee=()=>{P.success("数据已更新")},te=o=>{console.log("查看订单：",o)};return(o,t)=>{const i=r("el-icon"),m=r("el-button"),b=r("el-option"),A=r("el-select"),w=r("el-form-item"),ae=r("el-date-picker"),le=r("el-form"),g=r("el-card"),v=r("el-col"),E=r("el-row"),k=r("el-tag"),F=r("el-progress"),C=r("el-radio-button"),B=r("el-radio-group"),se=r("el-scrollbar"),_=r("el-table-column"),oe=r("el-table"),ne=r("el-pagination");return u(),f("div",Ce,[s("div",Te,[s("div",Ve,[e(i,null,{default:a(()=>[e(c(ce))]),_:1}),t[7]||(t[7]=s("h2",null,"合作商业绩监控",-1))]),s("div",ze,[e(m,{type:"success",plain:"",onClick:Y},{default:a(()=>[e(i,null,{default:a(()=>[e(c(ue))]),_:1}),t[8]||(t[8]=n("业绩分析 "))]),_:1}),e(m,{type:"warning",onClick:Z},{default:a(()=>[e(i,null,{default:a(()=>[e(c(pe))]),_:1}),t[9]||(t[9]=n("导出数据 "))]),_:1}),e(m,{type:"primary",onClick:ee},{default:a(()=>[e(i,null,{default:a(()=>[e(c(U))]),_:1}),t[10]||(t[10]=n("刷新数据 "))]),_:1})])]),e(E,{gutter:20},{default:a(()=>[e(v,{span:24},{default:a(()=>[e(g,{class:"search-card"},{default:a(()=>[e(le,{model:p,inline:"",class:"search-form"},{default:a(()=>[e(w,{label:"合作商"},{default:a(()=>[e(A,{modelValue:p.partnerId,"onUpdate:modelValue":t[0]||(t[0]=l=>p.partnerId=l),placeholder:"请选择合作商",clearable:"",class:"search-select"},{default:a(()=>[(u(!0),f(V,null,z(o.partnerOptions,l=>(u(),y(b,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(w,{label:"时间范围"},{default:a(()=>[e(ae,{modelValue:p.dateRange,"onUpdate:modelValue":t[1]||(t[1]=l=>p.dateRange=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",shortcuts:N},null,8,["modelValue"])]),_:1}),e(w,{label:"订单类型"},{default:a(()=>[e(A,{modelValue:p.orderType,"onUpdate:modelValue":t[2]||(t[2]=l=>p.orderType=l),placeholder:"请选择订单类型",clearable:"",class:"search-select"},{default:a(()=>[e(b,{label:"商品购买",value:"purchase"}),e(b,{label:"设备租赁",value:"rental"}),e(b,{label:"服务订单",value:"service"})]),_:1},8,["modelValue"])]),_:1}),e(w,null,{default:a(()=>[e(m,{type:"primary",onClick:$},{default:a(()=>[e(i,null,{default:a(()=>[e(c(_e))]),_:1}),t[11]||(t[11]=n("查询 "))]),_:1}),e(m,{onClick:Q},{default:a(()=>[e(i,null,{default:a(()=>[e(c(U))]),_:1}),t[12]||(t[12]=n("重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1}),e(E,{gutter:20,class:"overview-section"},{default:a(()=>[(u(),f(V,null,z(M,l=>e(v,{span:6,key:l.title},{default:a(()=>[e(g,{class:"overview-card",shadow:"hover"},{default:a(()=>[s("div",Se,[s("div",xe,[s("div",{class:S(["overview-icon",l.type])},[e(i,null,{default:a(()=>[(u(),y(he(l.icon)))]),_:2},1024)],2),s("div",De,d(l.title),1),l.badge?(u(),f("div",Ee,[e(k,{type:l.badge.type,size:"small"},{default:a(()=>[n(d(l.badge.text),1)]),_:2},1032,["type"])])):ye("",!0)]),s("div",Fe,d(l.value),1),s("div",Pe,[s("div",Re,d(l.chart.label),1),e(F,{percentage:l.chart.percentage,color:l.chart.color,"stroke-width":4,"show-text":!1},null,8,["percentage","color"])]),s("div",{class:S(["overview-trend",X(l.trend)])},[s("span",Oe,d(Math.abs(l.trend))+"%",1),t[13]||(t[13]=s("span",{class:"trend-label"},"较上月",-1)),e(i,null,{default:a(()=>[l.trend>0?(u(),y(c(be),{key:0})):(u(),y(c(we),{key:1}))]),_:2},1024)],2)])]),_:2},1024)]),_:2},1024)),64))]),_:1}),e(E,{gutter:20,class:"main-content"},{default:a(()=>[e(v,{span:8},{default:a(()=>[e(g,{class:"chart-card"},{header:a(()=>[s("div",Ae,[s("span",Be,[e(i,null,{default:a(()=>[e(c(fe))]),_:1}),t[14]||(t[14]=n(" 销售趋势分析 "))]),e(B,{modelValue:R.value,"onUpdate:modelValue":t[3]||(t[3]=l=>R.value=l),size:"small"},{default:a(()=>[e(C,{label:"amount"},{default:a(()=>t[15]||(t[15]=[n("销售额")])),_:1}),e(C,{label:"count"},{default:a(()=>t[16]||(t[16]=[n("订单量")])),_:1})]),_:1},8,["modelValue"])])]),default:a(()=>[s("div",Ie,[s("div",{ref_key:"salesChartRef",ref:x,style:{width:"100%",height:"300px"}},null,512)])]),_:1})]),_:1}),e(v,{span:8},{default:a(()=>[e(g,{class:"stat-card"},{header:a(()=>[s("div",Le,[s("span",Ue,[e(i,null,{default:a(()=>[e(c(me))]),_:1}),t[17]||(t[17]=n(" 订单统计 "))]),e(k,{type:"info",size:"small"},{default:a(()=>t[18]||(t[18]=[n("本月")])),_:1})])]),default:a(()=>[s("div",Me,[s("div",Ne,[s("div",{ref_key:"orderPieRef",ref:D,style:{width:"100%",height:"200px"}},null,512)]),s("div",Ge,[(u(),f(V,null,z(q,l=>s("div",{class:"stat-item",key:l.type},[s("div",je,[s("span",qe,d(l.label),1),s("span",{class:S(["stat-value",l.type])},d(l.value),3)]),s("div",He,[e(F,{percentage:l.percentage,color:l.color,"show-text":!1},null,8,["percentage","color"])])])),64))])])]),_:1})]),_:1}),e(v,{span:8},{default:a(()=>[e(g,{class:"rank-card","body-style":{padding:"0"}},{header:a(()=>[s("div",Je,[s("span",Ke,[e(i,null,{default:a(()=>[e(c(ge))]),_:1}),t[19]||(t[19]=n(" 业绩排名 "))]),e(B,{modelValue:O.value,"onUpdate:modelValue":t[4]||(t[4]=l=>O.value=l),size:"small"},{default:a(()=>[e(C,{label:"month"},{default:a(()=>t[20]||(t[20]=[n("本月")])),_:1}),e(C,{label:"quarter"},{default:a(()=>t[21]||(t[21]=[n("本季度")])),_:1})]),_:1},8,["modelValue"])])]),default:a(()=>[e(se,{height:"calc(100% - 52px)"},{default:a(()=>[s("div",We,[(u(),f(V,null,z(H,(l,h)=>s("div",{key:l.id,class:S(["rank-item",{"top-three":h<3}])},[s("div",Xe,[h<3?(u(),y(i,{key:0},{default:a(()=>[e(c(ke))]),_:1})):(u(),f("span",$e,d(h+1),1))]),s("div",Qe,[s("div",Ye,d(l.name),1),s("div",Ze,[s("span",null,"销售额：¥"+d(l.amount),1),s("span",null,"订单量："+d(l.orders)+"单",1)])]),s("div",et,[e(F,{percentage:l.completion,color:J(h)},null,8,["percentage","color"])])],2)),64))])]),_:1})]),_:1})]),_:1}),e(v,{span:24},{default:a(()=>[e(g,{class:"table-card"},{header:a(()=>[s("div",tt,[s("span",at,[e(i,null,{default:a(()=>[e(c(ve))]),_:1}),t[22]||(t[22]=n(" 订单明细 "))])])]),default:a(()=>[e(oe,{data:o.orderList,border:"",style:{width:"100%"}},{default:a(()=>[e(_,{prop:"orderNo",label:"订单编号",width:"180"}),e(_,{prop:"type",label:"订单类型",width:"120"},{default:a(({row:l})=>[e(k,{type:K(l.type)},{default:a(()=>[n(d(o.getOrderTypeLabel(l.type)),1)]),_:2},1032,["type"])]),_:1}),e(_,{prop:"amount",label:"订单金额",width:"150"},{default:a(({row:l})=>[n(" ¥"+d(l.amount),1)]),_:1}),e(_,{prop:"status",label:"订单状态",width:"120"},{default:a(({row:l})=>[e(k,{type:W(l.status)},{default:a(()=>[n(d(o.getStatusLabel(l.status)),1)]),_:2},1032,["type"])]),_:1}),e(_,{prop:"createTime",label:"创建时间",width:"180"}),e(_,{prop:"completionTime",label:"完成时间",width:"180"}),e(_,{label:"操作",width:"150",fixed:"right"},{default:a(({row:l})=>[e(m,{link:"",type:"primary",onClick:h=>te(l)},{default:a(()=>t[23]||(t[23]=[n(" 查看详情 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),s("div",lt,[e(ne,{"current-page":o.currentPage,"onUpdate:currentPage":t[5]||(t[5]=l=>o.currentPage=l),"page-size":o.pageSize,"onUpdate:pageSize":t[6]||(t[6]=l=>o.pageSize=l),total:o.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),_:1})]),_:1})]),_:1})])}}},dt=re(st,[["__scopeId","data-v-38bc665e"]]);export{dt as default};
